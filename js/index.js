const setObj=function(e,t){localStorage.setItem(e,JSON.stringify(t))},getObj=function(e){return JSON.parse(localStorage.getItem(e))};function loadcustomapp(){getObj("customapps")||setObj("customapps",[]);var e=prompt("What should this app be named? (required)"),t=prompt("What's this app's url? (required)"),o=prompt("What's this app's icon? (optional)"),a=prompt("What's this app's description? (optional)");return e&&t?e.length>15?alert("App name is too long (max 30 characters)"):void fetch("https://www.uuidtools.com/api/generate/v4").then((e=>e.json())).then((l=>{var s=getObj("customapps")||[];s.push(JSON.parse(`{ "title": "${e} (Custom app)", "url": "${t}", "id": "${l[0]}", "image": "${o}", "description": "${a}" }`)),setObj("customapps",s),window.location.href=self.location})):alert("All required fields must be filled in")}function launchab(){const e=window.open("about:blank","_blank"),t=e.document.createElement("iframe"),o=t.style;o.border=o.outline="none",o.width="100vw",o.height="100vh",o.position="fixed",o.left=o.right=o.top=o.bottom="0",t.src=self.location,e.document.body.appendChild(t),window.parent.window.location.replace(localStorage.getItem("panicurl")||"https://classroom.google.com/h")}function loadcustomgame(){getObj("customgames")||setObj("customgames",[]);var e=prompt("What should this game be named? (required)"),t=prompt("What's this game's url? (required)"),o=prompt("What's this game's icon? (optional)"),a=prompt("What's this game's description? (optional)");return e&&t?e.length>15?alert("Game name is too long (max 30 characters)"):void fetch("https://www.uuidtools.com/api/generate/v4").then((e=>e.json())).then((l=>{var s=getObj("customgames")||[];s.push(JSON.parse(`{ "title": "${e} (Custom game)", "url": "${t}", "id": "${l[0]}", "image": "${o}", "description": "${a}" }`)),console.log(s),setObj("customgames",s),console.log(getObj("customgames"))})):alert("All required fields must be filled in")}function debug(){console.log(getObj("customapps"))}function clearcustomapps(){setObj("customapps",[]),console.log("Removed all custom apps!"),window.location.reload()}function clearcustomgames(){setObj("customgames",[]),console.log("Removed all custom games!"),window.location.reload()}localStorage.getItem("launchblank")&&window.self!==window.top&&launchab(),window.self!=window.self&&(document.querySelector("#launchab").style.display="none"),localStorage.getItem("theme")?document.body.setAttribute("theme",localStorage.getItem("theme")):document.body.setAttribute("theme","main"),localStorage.getItem("tabIcon")&&(document.querySelector("link[rel='shortcut icon']").href=localStorage.getItem("tabIcon")),localStorage.getItem("tabName")&&(document.title=localStorage.getItem("tabName")),localStorage.getItem("theme")&&document.body.setAttribute("theme",localStorage.getItem("theme")),console.log(localStorage.getItem("theme")),document.addEventListener("keydown",(async e=>{localStorage.getItem("panickey")&&localStorage.getItem("panickey")==e.key&&window.parent.window.location.replace(localStorage.getItem("panicurl")||"https://classroom.google.com/h")}));